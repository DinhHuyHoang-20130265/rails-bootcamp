<% if @form.model.persisted? %>
  <%# Prepend the new tweet to the tweets list %>
  <%= turbo_stream.prepend "tweets" do %>
    <%= render partial: "tweet", locals: { tweet: @form.model } %>
  <% end %>

  <%# Reset the form with a new empty tweet %>
  <%= turbo_stream.replace "tweet-form" do %>
    <%= render partial: "form", locals: { form: @form } %>
  <% end %>
<% else %>
  <%# Show validation errors %>
  <%= turbo_stream.replace "tweet-form" do %>
    <%= render partial: "form", locals: { form: @form } %>
  <% end %>
<% end %>
